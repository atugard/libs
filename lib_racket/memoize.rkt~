(require "../../racket_lib/table.rkt")

(define (memoize f)
  (lambda x
    (let* ((tbl (make-table))
           (val (get-val x tbl)))
      (if val
          val
          (let ((ans (apply f x)))
            (add-record (mcons x ans) tbl)
            ans)))))

